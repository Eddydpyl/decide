{% load i18n static %}

<!DOCTYPE html>
<html>
    <head>
        {% load static %}
        <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

        <!--Import materialize.css-->
        <link type="text/css" rel="stylesheet" href="{% static "decide/css/base.css"%}"/>
        <link href="https://fonts.googleapis.com/css?family=Roboto|Roboto+Slab" rel="stylesheet">
        
        <link type="text/css" rel="stylesheet" href="{% static "decide/css/materialize.css"%}"> 
        <!--Import materialize.js-->
        <!--Let browser know website is optimized for mobile-->
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <meta charset="utf-8" />
        <title>{% block title %}Decide!{% endblock %}</title>
        {% block extrahead %}
        {% endblock %}
        
    </head>
    <body>
        <style>
        .language {
            width:115px;
        }
        .language1 {
            margin-top:10px !important;
        }
        .language2 {
            opacity:0.9 !important;
            border-radius: 6px !important;
        }
        
        </style>
        <script>
            function changeLanguage() {
                const map = {
                    spanish: '/es/booth/'+ {{ voting.id }}
                    , english: '/en/booth/'+ {{ voting.id }}
                    , catalan: '/ca/booth/'+ {{ voting.id }}
                }
                location.href = map[document.getElementById("select").value]
            }
        </script>
        
        <script type="text/javascript" src="{% static "decide/js/materialize.js"%}"></script>
        <nav class="menu">
            <div class="nav-wrapper blue-grey darken-2">
                <div class="row">
                    <div class="language right">
                            {% get_current_language as LANGUAGE_CODE %}
                        <div class="col s12 language1">
                            <select class="browser-default language2" id="select" onchange="changeLanguage()">
                                {% if LANGUAGE_CODE == 'es' %}
                                    <option value="spanish" selected disabled hidden>{% trans "Spanish" %}</option>
                                    <option value="english">{% trans "English" %}</option>
                                    <option value="catalan">{% trans "Catalan" %}</option>
                                {% endif %}
                                {% if LANGUAGE_CODE == 'en' %}
                                    <option value="spanish">{% trans "Spanish" %}</option>
                                    <option value="english" selected disabled hidden>{% trans "English" %}</option>
                                    <option value="catalan">{% trans "Catalan" %}</option>
                                {% endif %}
                                {% if LANGUAGE_CODE == 'ca' %}
                                    <option value="spanish">{% trans "Spanish" %}</option>
                                    <option value="english">{% trans "English" %}</option>
                                    <option value="catalan" selected disabled hidden>{% trans "Catalan" %}</option>
                                {% endif %}
                            </select>
                        </div>
                    </div>
                <a href="#" class="brand-logo center">Gan√≠medes</a>
                    <ul id="nav-mobile" class="right hide-on-med-and-down">
                        {% block menu_options %}
                        {% endblock %}
                    </ul>
                </div>
            </div>
            </nav>
        <div class="body">
            {% block content %}
            {% endblock %}

            {% block extrabody %}{% endblock %}
        </div>
        
    </body>
</html>

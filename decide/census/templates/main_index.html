{% extends 'base.html' %}
{% load i18n static %}

{% block content %}
  
  <a href="/admin/logout" class="waves-effect waves-light btn">Log out</a>
  <br><br>
  <nav>
    <div class="nav-wrapper">
      <div class="col s1">
        <a href="/admin" class="breadcrumb">Home</a>
        <a href="{% url 'listCensus' %}" class="breadcrumb">Census</a>
      </div>
    </div>
  </nav>
  
{% if errors %}
    <p class="errornote">
    {% if errors|length == 1 %}{% trans "Please correct the error below." %}{% else %}{% trans "Please correct the errors below." %}{% endif %}
    </p>
    {{ adminform.form.non_field_errors }}
    <br>
    <br>
{% endif %}

<br>
<br>
<a href="{% url 'passVotings' %}" class="waves-effect waves-light btn">{% trans 'Add census with filters' %}</a> <a href="{% url 'addCustomCensus' %}" class="waves-effect waves-light btn">{% trans 'Add custom census' %}</a> <button onclick="window.location='{% url 'exportCSV' %}'"
  title="Exportar CSV" class="waves-effect waves-dark btn">
  {% trans 'Export all' %}</button>  <a href="{% url 'importCSVView' %}" class="waves-effect waves-light btn">{% trans 'Import all' %}</a><br>
<br>

<table class="centered">
        <thead>
          <tr>
              <th>{% trans 'Voting' %}</th>
              <th>{% trans 'Voters' %}</th>
              <th>{% trans 'Edit' %}</th>
              <th>{% trans 'Delete' %}</th>
          </tr>
        </thead>
        <tbody>


        {% for object in census %}
        <tr>
        <td>{{ object.voting_id }}</td>
        <td><a href="{% url 'viewVoters' %}?voting_id={{ object.voting_id }}" class="waves-effect waves-light btn">{% trans 'View Voters' %}</a></td>
        <td><a href="{% url 'editCensus' %}?id={{ object.id }}" class="waves-effect waves-light btn">{% trans 'Edit census' %}</a></td>
        <td><a href="{% url 'deleteCensus' %}?id={{ object.id }}" class="waves-effect waves-light btn">{% trans 'Delete census' %}</a></td>
        </tr>

        {% endfor %}

          
        </tbody>
      </table>



{% endblock %}